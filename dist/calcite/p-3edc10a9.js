/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-next.441
 */
import{q as n,c as e}from"./p-37950845.js";const t="calciteInternalLabelConnected",c="calciteInternaLabelDisconnected",a=new WeakMap,o=new WeakMap,l=new WeakMap,i=new Set;function s(t){const c=(t=>{const{id:c}=t,a=c&&n(t,{selector:`calcite-label[for="${c}"]`});if(a)return a;const o=e(t,"calcite-label");return!o||function(n,e){let t;const c="custom-element-ancestor-check",a=c=>{c.stopImmediatePropagation();const a=c.composedPath();t=a.slice(a.indexOf(e),a.indexOf(n))};return n.addEventListener(c,a,{once:!0}),e.dispatchEvent(new CustomEvent(c,{composed:!0,bubbles:!0})),n.removeEventListener(c,a),t.filter((t=>t!==e&&t!==n)).filter((n=>{var e;return null===(e=n.tagName)||void 0===e?void 0:e.includes("-")})).length>0}(o,t)?null:o})(t.el);if(a.has(c))return;const s=f.bind(t);c?((()=>{t.labelEl=c;const n=d.bind(t);a.set(t.labelEl,n),t.labelEl.addEventListener("calciteInternalLabelClick",n)})(),i.delete(t),document.removeEventListener("calciteInternalLabelConnected",o.get(t)),l.set(t,s),document.addEventListener("calciteInternaLabelDisconnected",s)):c||i.has(t)||(s(),document.removeEventListener("calciteInternaLabelDisconnected",l.get(t)))}function r(n){if(i.delete(n),document.removeEventListener("calciteInternalLabelConnected",o.get(n)),document.removeEventListener("calciteInternaLabelDisconnected",l.get(n)),!n.labelEl)return;const e=a.get(n.labelEl);n.labelEl.removeEventListener("calciteInternalLabelClick",e),a.delete(n.labelEl)}function u(n){var e,t;return n.label||(null===(t=null===(e=n.labelEl)||void 0===e?void 0:e.textContent)||void 0===t?void 0:t.trim())||""}function d(n){this.disabled||this.el.contains(n.detail.sourceEvent.target)||this.onLabelClick(n)}function b(){i.has(this)&&s(this)}function f(){i.add(this);const n=b.bind(this);o.set(this,n),document.addEventListener("calciteInternalLabelConnected",n)}export{c as a,s as c,r as d,u as g,t as l}